<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Ultrasky - Blu Egizio & Opere</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" />

  <style>
    :root {
      /* GRADIENTE SCURO + TONI BLU/NOTTE */
      --color-bg-start: #061221;
      --color-bg-end:   #0f1c30; 
      --color-bg-header: rgba(0,0,0,0.7);

      /* Testi */
      --color-text-main: #ddd;      /* Grigio chiaro più incisivo */
      --color-title-blu: #3B6CB7;   /* Blu Egizio per #header-title */
      --color-gold:      #d4af37;   /* Oro per hamburger lines e titoli ULTRSKY */

      /* Box e border */
      --color-card-bg:   #192337;   /* sfondo delle card */
      --color-border:    #3B6CB7;   /* Blu Egizio come contorno */
      --color-border-hov:#72a5e0;   /* versione più chiara in hover */
      
      /* Bottone Speak */
      --color-speak-bg:  #3B6CB7;   /* Sfondo bottone “Ascolta” */
      --color-speak-txt: #fff;      /* Testo bottone “Ascolta” */

      /* Modali */
      --modal-bg:        rgba(15,28,48,0.9); /* scuro-blu trasparente */
      --modal-border:    #3B6CB7;

      --transition-speed: 0.4s;
    }

    * {
      margin:0; 
      padding:0; 
      box-sizing:border-box;
    }
    html, body {
      width:100%;
      height:100%;
      font-family:'Poppins', sans-serif;
      /* Sfondo a gradiente blu notte */
      background: linear-gradient(to bottom, var(--color-bg-start), var(--color-bg-end));
      color: var(--color-text-main);
      overflow-x:hidden;
      transition: background var(--transition-speed), color var(--transition-speed);
    }

    /* HEADER (immutato salvo piccoli ritocchi) */
    header {
      position:fixed;
      top:0; left:0;
      width:100%;
      padding:10px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      z-index:9999;
      background: var(--color-bg-header);
      box-shadow:0 2px 8px rgba(0,0,0,0.6);
      backdrop-filter: blur(6px);
    }
    #header-left {
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo {
      height:40px;
      width:auto;
    }
    /* Scritta in Blu Egizio */
    #header-title {
      font-weight:600;
      font-size:1.2rem;
      color: var(--color-title-blu);
      text-transform: uppercase;
      letter-spacing:1px;
    }

    /* HAMBURGER icon con linee ORO */
    .hamburger-icon {
      width:30px; 
      height:25px;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .hamburger-icon div {
      background-color: var(--color-gold);
      height:3px;
      border-radius:1px;
      transition:transform 0.3s, opacity 0.3s;
    }

    /* MENU TENDINA */
    .menu-container {
      position:absolute;
      top:60px; 
      right:20px;
      width:240px;
      background:rgba(0,0,0,0.9);
      border:1px solid var(--color-border);
      border-radius:8px;
      padding:10px;
      display:none;
      flex-direction:column;
      gap:10px;
      box-shadow:0 4px 15px rgba(0,0,0,0.7);
      animation: fadeIn var(--transition-speed) ease;
    }
    @keyframes fadeIn {
      from { opacity:0; transform:scale(0.95);}
      to   { opacity:1; transform:scale(1);}
    }
    .menu-list {
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .menu-list li {
      background:transparent;
      border:1px solid var(--color-border);
      border-radius:5px;
      padding:8px;
      text-align:center;
      transition: background 0.3s, border 0.3s;
      cursor: pointer;
    }
    .menu-list li:hover {
      background:rgba(255,255,255,0.07);
      border-color: var(--color-border-hov);
    }

    body.menu-open .menu-container {
      display:flex;
    }
    body.menu-open .hamburger-icon div:nth-child(1) {
      transform:rotate(45deg) translateY(9px);
    }
    body.menu-open .hamburger-icon div:nth-child(2) {
      opacity:0;
    }
    body.menu-open .hamburger-icon div:nth-child(3) {
      transform:rotate(-45deg) translateY(-9px);
    }

    /* MAIN */
    main {
      margin-top:70px; 
      padding:20px;
      max-width:1200px;
      margin:0 auto;
    }
    .intro {
      margin-bottom:20px;
      text-align:center;
    }
    .intro h2 {
      font-size:1.4rem;
      font-weight:600;
      margin-bottom:8px;
    }
    .intro p {
      max-width:600px;
      margin:0 auto;
      line-height:1.5;
    }

    /* OPERE ULTRSKY */
    .exhibition-list {
      display:flex;
      flex-wrap:wrap;
      gap:25px;
      justify-content:center;
      margin-top:30px;
    }
    .piece-card {
      background: var(--color-card-bg);
      border:1px solid var(--color-border);
      border-radius:8px;
      padding:16px;
      width:240px;
      cursor:pointer;
      transition: transform 0.3s, box-shadow 0.3s, border 0.3s;
      box-shadow:0 2px 8px rgba(0,0,0,0.4);
    }
    .piece-card:hover {
      transform:scale(1.02);
      box-shadow:0 5px 15px rgba(0,0,0,0.6);
      border-color: var(--color-border-hov);
    }
    /* TITOLO ORO */
    .piece-title {
      font-size:1rem;
      font-weight:600;
      margin-bottom:6px;
      color: var(--color-gold);
    }
    .piece-desc {
      font-size:0.85rem;
      line-height:1.3;
      margin-bottom:10px;
      color: var(--color-text-main);
    }
    /* Bottone “Ascolta” Blu Egizio */
    .speak-btn {
      background: var(--color-speak-bg);
      border:1px solid var(--color-border);
      border-radius:20px;
      padding:6px 14px;
      color: var(--color-speak-txt);
      cursor:pointer;
      font-size:0.85rem;
      transition:transform 0.2s, box-shadow 0.2s, background 0.3s, border 0.3s;
    }
    .speak-btn:hover {
      transform:scale(1.05);
      box-shadow:0 3px 8px rgba(0,0,0,0.4);
      border-color: var(--color-border-hov);
    }

    /* FOOTER */
    footer {
      margin-top:40px;
      text-align:center;
      font-size:0.9rem;
      padding:20px;
      background: var(--color-bg-secondary);
      box-shadow:0 -2px 8px rgba(0,0,0,0.6);
    }

    /* MODAL STYLES */
    .modal-overlay {
      position:fixed;
      top:0; left:0;
      width:100vw; height:100vh;
      background:rgba(0,0,0,0.8);
      z-index:99999;
      display:none;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    .modal-overlay.active {
      display:flex;
    }
    .modal-content {
      background: var(--modal-bg);
      border:1px solid var(--modal-border);
      border-radius:10px;
      padding:20px;
      max-width:800px;
      max-height:90vh;
      overflow-y:auto;
      position:relative;
      color: var(--color-text-main);
      box-shadow:0 2px 20px rgba(0,0,0,0.8);
    }
    .modal-content h2 {
      margin-bottom:10px;
      font-size:1.2rem;
      font-weight:600;
      color: var(--color-title-blu); /* se vuoi distinguere i titoli modali in blu */
    }
    .modal-content p {
      line-height:1.5;
      margin-bottom:10px;
    }
    .modal-close {
      position:absolute;
      top:15px; right:15px;
      background:none;
      border:1px solid var(--color-border);
      border-radius:50%;
      color: var(--color-text-main);
      width:36px; height:36px;
      font-weight:bold;
      cursor:pointer;
      font-size:1.1rem;
      transition: transform 0.3s, background 0.3s, border 0.3s;
    }
    .modal-close:hover {
      transform:scale(1.1);
      background:rgba(255,255,255,0.07);
      border-color: var(--color-border-hov);
    }
    .modal-content img {
      display: block;
      max-width: 100%;
      margin: 15px 0;
      border-radius: 8px;
      box-shadow:0 2px 10px rgba(0,0,0,0.6);
    }
    .video-wrapper {
      margin:20px 0;
      position:relative;
      overflow:hidden;
      padding-top:56.25%; 
    }
    .video-wrapper iframe {
      position:absolute;
      top:0; left:0;
      width:100%; 
      height:100%;
      border:none;
    }
  </style>
</head>
<body>

<!-- HEADER -->
<header>
  <div id="header-left">
    <!-- LOGO -->
    <img 
      src="https://www.ultrasky.it/news/wp-content/uploads/2024/11/loghino-scarabeo-80.png" 
      alt="Ultrasky Logo"
      class="logo"
    >
    <!-- Scritta in Blu Egizio -->
    <div id="header-title">Ultrasky - Blu Egizio</div>
  </div>

  <!-- Hamburger Icon + Menu -->
  <div class="hamburger-icon" id="hamburger-btn">
    <div></div>
    <div></div>
    <div></div>
  </div>
  <div class="menu-container" id="hamburger-menu">
    <ul class="menu-list">
      <li id="btn-blu-egizio">Alla scoperta del Blu Egizio</li>
      <li id="btn-storia">La Storia</li>
      <li id="btn-scienza">La Scienza</li>
      <li id="btn-arti">Le Arti</li>
      <li id="btn-programma">Programma</li>
      <li id="btn-artisti">Artisti</li>
      <li id="btn-contatti">Contatti</li>
      <li id="btn-catalogo">Catalogo Digitale</li>
    </ul>
  </div>
</header>

<!-- MAIN -->
<main>
  <section class="intro">
    <h2>Benvenuti in Ultrasky</h2>
    <p>
      Scopri la mostra dedicata al Blu Egizio e alle sue infinite potenzialità 
      in ambito artistico, scientifico e storico. Inoltre, esplora le 20 opere 
      ULTRSKY con descrizioni e “Ascolta” TTS!
    </p>
  </section>

  <!-- OPERE ULTRSKY -->
  <section>
    <div class="exhibition-list" id="exhibition-list">
      <!-- generato da JS -->
    </div>
  </section>
</main>

<!-- FOOTER -->
<footer>
  © 2024 Ultrasky - All Rights Reserved
</footer>

<!-- ESEMPI DI MODAL (Blu Egizio...) -->
<div class="modal-overlay" id="modal-blu-egizio">
  <div class="modal-content">
    <button class="modal-close" data-close="blu-egizio">X</button>
    <h2>Alla scoperta del Blu Egizio</h2>
    <p>(contenuto...) </p>
  </div>
</div>
<!-- ALTRI MODAL: Storia, Scienza, Arti, Programma, Artisti, Contatti, Catalogo... -->
<div class="modal-overlay" id="modal-ultrsky01-extended">
  <div class="modal-content">
    <button class="modal-close" data-close="ultrsky01-extended">X</button>
    <h2>ULTRSKY 01 - Approfondimento</h2>
    <p>(Testo su CACO3, micromosaico...) </p>
    <img 
      src="https://64.media.tumblr.com/1c6a8f123b3ecfe43ea74cbe4fe0b8aa/tumblr_o3me1uDL8i1qdh7ndo1_540.jpg" 
      alt="Micromosaico CACO3" 
    >
    <div class="video-wrapper">
      <iframe 
        src="https://www.youtube.com/embed/vJsiPNdQCzk"
        title="CaCO3"
        allowfullscreen
      ></iframe>
    </div>
  </div>
</div>

<script>
  // HAMBURGER
  const hamburgerBtn = document.getElementById('hamburger-btn');
  const hamburgerMenu = document.getElementById('hamburger-menu');
  hamburgerBtn.addEventListener('click', ()=>{
    document.body.classList.toggle('menu-open');
  });

  // CHIUSURA MODAL
  const closeBtns = document.querySelectorAll('.modal-close');
  closeBtns.forEach(btn => {
    btn.addEventListener('click', ()=>{
      const target = btn.dataset.close;
      document.getElementById('modal-'+target).classList.remove('active');
    });
  });
  function closeAllModals(){
    document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('active'));
  }

  // ESEMPIO APERTURA BLU EGIZIO
  const btnBluEgizio = document.getElementById('btn-blu-egizio');
  const modalBluEgizio = document.getElementById('modal-blu-egizio');
  btnBluEgizio.addEventListener('click', ()=>{
    closeAllModals();
    modalBluEgizio.classList.add('active');
    document.body.classList.remove('menu-open');
  });

  // 20 OPERE ULTRSKY (titolo in ORO -> piece-title)
  const pieces = [
    { id:1,  title:"ULTRSKY 01", description:"Approfondimento su micromosaico e CACO3.", hasExtended:true },
    { id:2,  title:"ULTRSKY 02", description:"Un turbinio di colori e particelle in danza cosmica." },
    { id:3,  title:"ULTRSKY 03", description:"Frammento di cometa in sfera di vetro, simbolo di desideri cosmici." },
    { id:4,  title:"ULTRSKY 04", description:"Linee geometriche e orbite planetarie tra arte e scienza." },
    { id:5,  title:"ULTRSKY 05", description:"Tela monocromatica di bagliori ultravioletti sospesi tra sogno e realtà." },
    { id:6,  title:"ULTRSKY 06", description:"Riflessi di luce cangiante evocanti l’aurora boreale, ipnotica e vibrante." },
    { id:7,  title:"ULTRSKY 07", description:"Mosaico digitale di costellazioni immaginarie, custodi di leggende perdute." },
    { id:8,  title:"ULTRSKY 08", description:"Specchi e cristalli riflettono galassie in miniatura: caleidoscopio spaziale." },
    { id:9,  title:"ULTRSKY 09", description:"Lampade al plasma pulsanti, simulazione di fulmini su pianeti gassosi." },
    { id:10, title:"ULTRSKY 10", description:"Un viaggio nelle profondità di un buco nero: tra ignoto e gravità." },
    { id:11, title:"ULTRSKY 11", description:"Trittico dell’alba su Marte, con sfumature ardenti all’orizzonte." },
    { id:12, title:"ULTRSKY 12", description:"Metalli e resine fusi in pattern galattici iridescenti." },
    { id:13, title:"ULTRSKY 13", description:"Scultura sonora di vibrazioni elettromagnetiche dallo spazio profondo." },
    { id:14, title:"ULTRSKY 14", description:"Tessuto a fibre ottiche, muta colore in sincronia coi movimenti." },
    { id:15, title:"ULTRSKY 15", description:"Affresco stellare in cui costellazioni reali e figure mitologiche si incontrano." },
    { id:16, title:"ULTRSKY 16", description:"Petali di fiori alieni sospesi, evocanti botaniche di mondi inesplorati." },
    { id:17, title:"ULTRSKY 17", description:"Nastro LED che disegna orbite e loop, pulsando con il battito dei visitatori." },
    { id:18, title:"ULTRSKY 18", description:"Meteorite in cornice di giada, testimone del tempo primordiale." },
    { id:19, title:"ULTRSKY 19", description:"Proiezioni olografiche: evoluzione di galassie, dal Big Bang al futuro." },
    { id:20, title:"ULTRSKY 20", description:"Polittico monumentale, scene cosmiche e simboli alchemici in dialogo." }
  ];

  const listContainer = document.getElementById('exhibition-list');

  pieces.forEach(p =>{
    const card = document.createElement('div');
    card.className = 'piece-card';

    const h3 = document.createElement('h3');
    h3.className = 'piece-title'; // color: gold
    h3.textContent = p.title;

    const desc = document.createElement('div');
    desc.className = 'piece-desc';
    desc.textContent = p.description;

    const speakBtn = document.createElement('button');
    speakBtn.className = 'speak-btn';
    speakBtn.textContent = 'Ascolta';
    speakBtn.addEventListener('click', (e)=>{
      e.stopPropagation();
      speakText(p.description);
    });

    card.addEventListener('click', ()=>{
      if(p.hasExtended){
        closeAllModals();
        document.getElementById('modal-ultrsky01-extended').classList.add('active');
      }
    });

    card.appendChild(h3);
    card.appendChild(desc);
    card.appendChild(speakBtn);
    listContainer.appendChild(card);
  });

  // TTS
  function speakText(text){
    if('speechSynthesis' in window){
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang="it-IT";
      speechSynthesis.speak(utter);
    } else {
      alert("Sintesi vocale non supportata dal tuo browser.");
    }
  }
</script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker
        .register('./sw.js')
        .then(() => console.log('Service Worker registered'))
        .catch(err => console.error('Service Worker registration failed:', err));
    });
  }
</script>
</body>
</html>
